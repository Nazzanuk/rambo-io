<script type="text/ng-template" id="popup.html">
    <div data-template="popup">
        <div class="overlay" style="display: none" ng-click="hidePopup()">
            <div class="popup" ng-click="$event.stopPropagation();">
                <h1>{{getPopupStory().name}}</h1>
                <hr/>
                <div style="position: relative">

                    <p><strong>Title</strong></p>
                    <p>
                        <input class="invisible-input" ng-model="getPopupStory().name" ng-change="saveStory()"/>
                    </p>
                    <br/>

                    <p><strong>Description</strong></p>
                    <p>
                        <textarea class="invisible-input" ng-model="getPopupStory().description" ng-change="saveStory()"></textarea>
                    </p>
                    <br/>

                    <div class="row">
                        <div class="col-sm-6">
                            <p><strong>Status</strong></p>
                            <p>
                                <select class="invisible-input" ng-model="getPopupStory().status" ng-change="saveStory()">
                                    <option value="backlog">Backlog</option>
                                    <option value="in progress">In Progress</option>
                                    <option value="done">Done</option>
                                </select>
                            </p>
                            <br/>
                        </div>
                        <div class="col-sm-6">
                            <p><strong>Epic</strong></p>
                            <p>
                                <select class="invisible-input" ng-model="getPopupStory().epic" ng-change="saveStory()">
                                    <option value="{{$index}}" ng-repeat="epic in getProject().epics track by $index">{{epic.title}}</option>
                                </select>
                            </p>
                            <br/>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-6">
                            <p><strong>Assigned to</strong></p>
                            <p>
                                <select class="invisible-input" ng-model="getPopupStory().user" ng-change="saveStory()">
                                    <option value="">Not Assigned</option>
                                    <option value="{{user.id}}" ng-repeat="user in getUsers() track by $index">{{user.name}}</option>
                                </select>
                            </p>
                            <br/>
                            </div>
                        <div class="col-sm-6">
                            <p><strong>Blocked</strong></p>
                            <p>
                                <select class="invisible-input" ng-model="getPopupStory().blocked" ng-change="saveStory()">
                                    <option value="{{true}}">Blocked</option>
                                    <option value="">Unblocked</option>
                                </select>
                            </p>
                            <br/>
                        </div>
                        </div>
                    </div>


                </div>

                <!--<p>{{getPopupStory().description}}</p>-->
            </div>
        </div>
    </div>
</script>